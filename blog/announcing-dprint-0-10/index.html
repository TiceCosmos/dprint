<!DOCTYPE html><html lang="en"><head><script async src="/scripts.js"></script><meta charset="utf-8"><title>Announcing dprint 0.10 - dprint - Code Formatter</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#000000"><meta name="description" content="Overview of the new features in dprint 0.10"><meta name="author" content="Dprint Code Formatting"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@dprintfmt"><meta name="twitter:title" content="Announcing dprint 0.10"><meta name="twitter:description" content="Overview of the new features in dprint 0.10"><link rel="stylesheet" href="/style.css"></head><body><nav class="navbar" role="navigation" aria-label="main navigation"><div class="navbar-brand"><h1 class="title"><a href="/">dprint</a></h1><a role="button" id="navbarBurger" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarLinks"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a></div><div class="navbar-menu" id="navbarLinks"><div class="navbar-end"><a class="navbar-item" href="/overview">Overview</a> <a class="navbar-item" href="/playground">Playground</a> <a class="navbar-item" href="/sponsor">Sponsor</a> <a class="navbar-item" href="https://github.com/dprint/dprint" rel="noopener noreferrer">View on GitHub</a></div></div></nav><section class="section" id="content"><article id="content-body" class="container"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/blog">Blog</a></li></ul></nav><h1 class="title">Announcing dprint 0.10</h1><div class="blog-date-author"><time datetime="2020-12-02">2020-12-02</time> by <a href="https://github.com/dsherret">David Sherret</a></div><p>dprint is a pluggable, configurable, and fast code formatting platform written in Rust.</p><p>This post outlines what's new in dprint 0.10.</p><p>Issues: <a href="https://github.com/dprint/dprint/milestone/5?closed=1">https://github.com/dprint/dprint/milestone/5?closed=1</a></p><h2 id="dprint-fmt---stdin-file-pathfile-name"><code>dprint fmt --stdin &lt;file-path/file-name&gt;</code></h2><p>Previously there was an unstable hidden <code>dprint stdin-fmt</code> command. This was removed and now there is a new <code>--stdin</code> flag on <code>dprint fmt</code> with added functionality.</p><p>This flag does what you might expect and allows you to provide text via stdin, which is then outputted to stdout.</p><h3 id="providing-a-file-path">Providing a file path</h3><p>When you provide a file path (ex. <code>/home/david/dev/project/src/my-file.ts</code>), the CLI will check the <code>.dprintrc.json</code> file to see if the file path should be formatted. If it should, it formats it. If not, it returns back the file text as-is.</p><h3 id="providing-a-file-name">Providing a file name</h3><p>If you provide only a file name (ex. <code>my-file.ts</code>) then the CLI will always format the file if it matches a plugin.</p><h2 id="process-plugin-interface-change">Process Plugin Interface Change</h2><p>The interface between process plugins and the CLI has changed in order to be more robust. Previously if a process plugin had a problem while sending the formatted file text back to the CLI and the error output was longer than the rest of the formatted file text, then this error message would end up in the file. Now all messages must end with "success bytes" to signify the end of a successfully sent message. Read more <a href="https://github.com/dprint/dprint/blob/master/docs/process-plugin-development.md">here</a>.</p><p>Due to this change, process plugins must now be above the following versions in order to work with dprint 0.10.0:</p><pre><code class="json language-json">{
  <span class="hljs-attr">&quot;plugins&quot;</span>: [
    <span class="hljs-string">&quot;https://plugins.dprint.dev/prettier-0.2.0.exe-plugin@5fc84274198107b5464477803eea335ab3c978738ff40058294b105d2e32d5ae&quot;</span>,
    <span class="hljs-string">&quot;https://plugins.dprint.dev/roslyn-0.2.2.exe-plugin@44d9f8fc4db50b07196672e857dc0244f3f274374db0d188df464dc0aae487c7&quot;</span>,
    <span class="hljs-string">&quot;https://plugins.dprint.dev/yapf-0.2.0.exe-plugin@14c42b703709e81f813c6674a8110c522af0ea78b6298f4f73721121a1a03701&quot;</span>
  ]
}</code></pre><h2 id="under-the-hood">Under the Hood</h2><p>This release mostly has changes "under the hood" that should make it faster and work better.</p><h3 id="custom-thread-pool">Custom Thread Pool</h3><p>Internally, dprint now uses a custom thread pool that optimizes for minimizing plugin creation time. Additionally, if you have many CPUs, you should notice a huge performance improvement as dprint will now utilize all your CPUs.</p><h3 id="custom-progress-bars-and-input-selection">Custom Progress Bars and Input Selection</h3><p>The input selection and progress bars have been written from scratch. The progress bars should no longer flicker on certain platforms and it now handles dprint plugins outputting while the CLI is doing other output such as displaying a progress bar.</p></article></section><footer class="footer"><div><div class="level"><div class="level-left"><p class="level-item"><a href="/">Home</a></p><p class="level-item"><a href="/contact">Contact Us</a></p><p class="level-item"><a href="/privacy-policy">Privacy Policy</a></p></div><div class="level-right"><p class="level-item"><a href="/blog">Blog</a></p><p class="level-item"><a href="https://twitter.com/dprintfmt">Twitter</a></p><p class="level-item"><a href="https://github.com/dprint">GitHub</a></p></div></div></div></footer></body></html>